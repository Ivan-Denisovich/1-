[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-22041afd0340ce965d47ae6ef1cefeee28c7c493a6346c4f15d667ab976d596c.svg)](https://classroom.github.com/a/Ztlu9zif)

# Лабораторная работа 6. Генераторы. Декораторы. Модули

Иногда приходится работать с большими или бесконечными последовательностями, например, с числами Фибоначчи или с очень длинными списками. Если выгрузить последовательность в память целиком, то ресурсы компьютера сразу закончатся, и мы получим ошибку ограничения по памяти. Тем не менее есть способ обозначить принцип составления этой последовательности, а потом вычислять значения поодиночке. Реализовать такое поведение можно при помощи генераторов.

Мы уже умеем строить программу из логических блоков — функций. Но бывает такое, что функционал необходимо расширить, не изменяя код самой функции, например, что-то добавить только в одном вызове. Тут на помощь придут декораторы, которые мы рассмотрим.

Также до этого момента мы писали код в одном файле, но в больших проектах так никто не делает — кода очень много, и в нем гораздо проще ориентироваться, когда он логически разбит по файлам. Такие файлы называются модулями. Как правильно разбивать код на модули и подключать их к проекту, — тоже рассмотрим в этой лабораторной работе.

## Порядок выполнения

1. Склонируйте репозиторий себе на компьютер
2. Повторите теорию к лабораторной работе в [theory.ipynb](theory.ipynb)
3. Выполните задание лабораторной работы
4. Отправьте изменения на GitHub

## Задание

### Вам понадобится:

- **Python** версии 3.12

### 0. Подготовка

Для выполнения задания необходимо сначала подготовить среду:

1. Откройте папку с проектом в текстовом редакторе (например, VS Code).
2. Создайте виртуальное окружение с нужной версией питона:

   ```shell
   python -m venv .venv
   ```

3. Активируйте виртуальное окружение:

   **Windows:**

   ```shell
   .venv/Scripts/activate
   ```

   **Linux/macOS:**

   ```shell
   .venv/bin/activate
   ```

   После этого в командной строке должен появиться промпт виртуального окружения.

4. Установите все зависимости проекта:

   ```shell
   pip install -r requirements.txt
   ```

5. После того как все библиотеки установятся, приложение будет готово к запуску. Чтобы это сделать, сначала нужно **перейти в папку `src/`**. Это важно, **без этого приложение не запустится.** После чего, находясь с папке `src/` с активированным виртуальным окружением, выполните команду запуска:

   ```
   streamlit run main.py
   ```

   После этого в терминале появится ссылка, по которой можно перейти в браузере. По этой ссылке и будет работать приложение.

### 1. Задание лабораторной работы

Перед вами слегка доработанное веб-приложение из прошлой лабораторной работы. Теперь в профиле пользователя появились две кнопки — «Пополнить баланс» и «Редактировать профиль». Но сейчас это просто заглушки — в них нет никакой реализации. Вам нужно написать ее самостоятельно. Обратите внимание на редактирование профиля — пользователь может захотеть изменить что-то одно — или логин, или пароль, а может и то, и другое. Необходимо учитывать этот фактор. Более того, сейчас в приложении где-то не хватает импортов нужных частей. Их тоже нужно найти и исправить. Чтобы вам не пришлось смотреть файлы всего приложения, скажу сразу, что импорты нарушены только в местах, связанных с кнопками, которые нужно дописать.

Код, который относится к построению самой архитектуре, уже есть, необходимо только написать реализацию и починить импорты. Реализация пополнения баланса находится в функции `add_money()` в `src/infrastructure/db.py`, реализация редактирования профиля — в `edit_profile()` в `src/infrastructure/db.py`.
